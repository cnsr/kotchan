{"version":3,"sources":["xbbcode.js"],"names":["XBBCODE","me","urlPattern","colorNamePattern","colorCodePattern","emailPattern","fontFacePattern","tags","tagList","tagsNoParseList","bbRegExp","pbbRegExp","pbbRegExp2","openTags","closeTags","b","openTag","params","content","closeTag","bbcode","center","code","noParse","color","colorCode","substr","lastIndex","test","email","myEmail","replace","face","faceCode","font","i","img","myUrl","displayContent","justify","large","left","li","restrictParentsTo","list","restrictChildrenTo","noparse","ol","php","quote","right","s","size","mySize","parseInt","small","sub","sup","table","tbody","tfoot","thead","td","th","tr","u","ul","url","*","prop","ii","len","hasOwnProperty","push","validChildLookup","validParentLookup","length","RegExp","join","closeTagList","checkParentChildRestrictions","parentTag","bbcodeLevel","tagName","tagParams","tagContents","errQueue","reTagNames","reTagNamesParts","matchingTags","match","cInfo","errStr","childTag","pInfo","toLowerCase","matchStr","updateTagDepths","subMatchStr","bbCodeLevel","m1","m2","unprocess","tagContent","replaceFunct","processedContent","parse","config","output","text","fixStarTag","contents","endTag","innerListTxt","tmp","addBbcodeLevels","process","ret","html","error","openB","closeB","indexOf","removeMisalignedTags","addInLineBreaks","errorQueue"],"mappings":"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"}